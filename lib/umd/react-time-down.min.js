!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","react","prop-types"],t):t(e.ReactTimeDown={},e.React,e.PropTypes)}(this,function(e,a,t){"use strict";var i="default"in a?a.default:a;function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}t=t&&t.hasOwnProperty("default")?t.default:t;!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".time-down {\n  font-size: 3.2vw;\n}\n");var n=function(e){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=f(this,c(n).call(this,e))).timer=null,t.state={date:t.formatDate(e.date),timeString:""},t}var t,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,a.Component),t=n,(r=[{key:"componentWillMount",value:function(){this.intervalTimeDown()}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.timer)}},{key:"formatDate",value:function(e){return"string"==typeof(e=null==e?new Date:e)&&e.indexOf("T")<0&&(e=e.replace(/\-/g,"/")),e="number"==typeof e||"string"==typeof e?new Date(e):e,new Date(e).getTime()}},{key:"getFomatDate",value:function(e){var t=Math.floor(e/864e5),n=e%864e5,r=Math.floor(n/36e5),o=n%36e5,a=Math.floor(o/6e4),i=o%6e4,u=Math.round(i/1e3);return"".concat(t,"天").concat(r,"小时").concat(a,"分钟").concat(u,"秒")}},{key:"intervalTimeDown",value:function(){var r=this,o=this.state.date;this.timer=setInterval(function(){var e=(new Date).getTime(),t=parseInt(o-e);t=0<t?t:0;var n=r.getFomatDate(t);r.setState({timeString:n})},1e3)}},{key:"render",value:function(){var e=this.props.className,t=void 0===e?"":e,n=this.state.timeString;return i.createElement("span",{className:"time-down "+t},n)}}])&&u(t.prototype,r),o&&u(t,o),n}();n.propTypes={className:t.string,date:t.instanceOf(Date),separate:t.array},n.defaultProps={date:new Date,className:"",separate:["天","小时","分钟","秒"]},e.TimeDown=n,Object.defineProperty(e,"__esModule",{value:!0})});
